<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8"/>
  <title>Client App</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; }
    code { background: #f3f3f3; padding: 2px 4px; border-radius: 4px; }
    .card { border: 1px solid #e5e5e5; padding: 1rem 1.2rem; border-radius: 8px; margin-bottom: 1rem; }
    .btn { display: inline-block; padding: 8px 12px; border: 1px solid #444; border-radius: 6px; text-decoration: none; }
  </style>
</head>
<body>
  <h1>Client App</h1>

  <div class="card">
    <p th:if="${user == null}">You are <b>not</b> logged in.</p>
    <p th:if="${user != null}">Hello, <b th:text="${user.fullName}">user</b>! (<code th:text="${user.subject}">sub</code>)</p>
    <p>
      <a class="btn" href="/oauth2/authorization/client-app">Login</a>
      <a class="btn" href="/logout">Logout</a>
      <a class="btn" href="/call-rs">Call Resource Server</a>
    </p>
  </div>

  <div class="card" th:if="${rs != null}">
    <h3>Resource Server Response</h3>
    <pre th:text="${#temporals.format(#temporals.createNow(), 'HH:mm:ss')}"></pre>
    <pre th:text="${rs}"></pre>
  </div>
</body>
</html>
